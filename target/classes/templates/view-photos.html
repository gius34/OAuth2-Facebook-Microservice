<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Visualizza foto</title>
		
		<!-- Bootstrap CSS -->
	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	    
	    <!-- Font Awesome CSS -->
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
	    
	    <!-- jQuery -->
	    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	    
	    <!-- Toastify JS -->
	    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
	    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
		
		<script type="text/javascript">
				$(document).ready(function() {
	
					// dynamic version
	
					loadPhotos();
					
					function loadPhotos() {
						
						$('tbody').html('');
						
						$.ajax({
							url : '/api/viewphotos',
							method : 'get',
							success : function(data) {
								
								for(var i = data.length - 1; i >= 0; i--) {
									
									$('tbody').append('<tr><td>' + data[i].id + '</td><td>' + data[i].url + '</td><td><img src="' + data[i].url + '" width="100" height = "100" /></td></tr>');
								}
												
							}
						});
					}
					
				});
				
			</script>
	</head>
	<body>
	    <!-- Form per tornare alla Home -->
	    <form th:action="@{home}" method="post">
	        <button type="submit" class="btn btn-primary mt-3 ml-3"><i class="fas fa-home"></i> Home</button>
	    </form>
	
	    <!-- Contenuto principale -->
	    <main class="container mt-4">
	        <h2 class="mb-4">Visualizza Foto</h2>
	        <table class="table">
	            <thead class="thead-dark">
	                <tr>
	                    <th scope="col">Id</th>
	                    <th scope="col">Image URL</th>
	                    <th scope="col">Image Preview</th>
	                </tr>
	            </thead>
	            <tbody>
	                <!-- Le foto verranno caricate qui tramite JavaScript -->
	            </tbody>
	        </table>
	    </main>
	</body>
</html>